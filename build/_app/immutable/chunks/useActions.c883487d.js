import{F as m,G as b,H as A,I as j}from"./index.2016f78f.js";function P(p){return Object.entries(p).filter(([i,s])=>i!==""&&s).map(([i])=>i).join(" ")}const w=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,x=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function T(p){let i,s=[];p.$on=(e,t)=>{let a=e,r=()=>{};return i?r=i(a,t):s.push([a,t]),a.match(w)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',a),()=>{r()}};function n(e){b(p,e)}return e=>{const t=[],a={};i=(r,v)=>{let l=r,d=v,o=!1;const y=l.match(w),M=l.match(x),$=y||M;if(l.match(/^SMUI:\w+:/)){const f=l.split(":");let c="";for(let u=0;u<f.length;u++)c+=u===f.length-1?":"+f[u]:f[u].split("-").map(g=>g.slice(0,1).toUpperCase()+g.slice(1)).join("");console.warn(`The event ${l.split("$")[0]} has been renamed to ${c.split("$")[0]}.`),l=c}if($){const f=l.split(y?":":"$");l=f[0];const c=Object.fromEntries(f.slice(1).map(u=>[u,!0]));c.passive&&(o=o||{},o.passive=!0),c.nonpassive&&(o=o||{},o.passive=!1),c.capture&&(o=o||{},o.capture=!0),c.once&&(o=o||{},o.once=!0),c.preventDefault&&(d=A(d)),c.stopPropagation&&(d=j(d))}const E=m(e,l,d,o),h=()=>{E();const f=t.indexOf(h);f>-1&&t.splice(f,1)};return t.push(h),l in a||(a[l]=m(e,l,n)),h};for(let r=0;r<s.length;r++)i(s[r][0],s[r][1]);return{destroy:()=>{for(let r=0;r<t.length;r++)t[r]();for(let r of Object.entries(a))r[1]()}}}}function D(p,i){let s=[];if(i)for(let n=0;n<i.length;n++){const e=i[n],t=Array.isArray(e)?e[0]:e;Array.isArray(e)&&e.length>1?s.push(t(p,e[1])):s.push(t(p))}return{update(n){if((n&&n.length||0)!=s.length)throw new Error("You must not change the length of an actions array.");if(n)for(let e=0;e<n.length;e++){const t=s[e];if(t&&t.update){const a=n[e];Array.isArray(a)&&a.length>1?t.update(a[1]):t.update()}}},destroy(){for(let n=0;n<s.length;n++){const e=s[n];e&&e.destroy&&e.destroy()}}}}export{P as c,T as f,D as u};
